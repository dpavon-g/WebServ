CXX := g++NAME := webserv# CXXFLAGS := -Wall -Wextra -std=c++98 -g3CXXFLAGS := -Wall -Wextra -Werror -std=c++98 -fsanitize=addressCACHEDIR := .cacheSRCS = src/main.cpp\ src/server/HTTPServer.cpp\ src/server/ListeningSocket.cpp\ src/server/MultiServer.cpp\ src/ConfigParser/Parser.cpp\ src/ConfigParser/Tokenizer.cpp\ src/ConfigParser/LocationRules.cpp\ src/ConfigParser/ServerConfig.cpp\ src/http_request/HTTPRequest.cpp\ src/utils/utils.cpp\ src/server/response_code/ResponseCode.cpp\ src/server/CGI/CGI.cpp\ src/server/routing/Routing_ns.cpp\ src/server/CGIManager.cpp\OBJS = $(SRCS:.cpp=.o)CGI_BINARIES = cgi_bin/cgiPrograms/pythonCGI.cpp\ cgi_bin/cgiPrograms/bashCGI.cpp\CGI_EXECS = $(CGI_BINARIES:.cpp=)# COLORS #RED = \033[0;31mGREEN = \033[0;32mYELLOW = \033[0;33mGREY = \033[2;37mMAGENTA = \033[0;35mCURSIVE = \033[3mNO_COLOR = \033[0mall: $(NAME)$(NAME): $(OBJS) @mkdir -p -m777 $(CACHEDIR) @$(CXX) $(CXXFLAGS) -o $(NAME) $(OBJS) @chmod 755 ./cgi_bin/delete.sh @chmod 755 ./cgi_bin/upload.sh @echo "\033[0;32mCompiled\033[0m"echo: echo $(OBJS)clean: @rm -f $(OBJS) rm -f $(CGI_EXECS) @echo "\033[0;33mCleaning objects\033[0m"fclean: clean @rm -f $(NAME) @echo "\033[0;35mFclean done\033[0m"binaries: $(CGI_EXECS)%: %.cpp @$(CXX) $(CXXFLAGS) -o $@ $< && mv $@ cgi_binre: fclean all
